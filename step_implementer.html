<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
<meta name="generator" content="pdoc3 0.11.1">
<title>ploigos_step_runner.step_implementer API documentation</title>
<meta name="description" content="Abstract class and helper constants for StepImplementer â€¦">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/13.0.0/sanitize.min.css" integrity="sha512-y1dtMcuvtTMJc1yPgEqF0ZjQbhnc/bFhyvIyVNb9Zk5mIGtqVaAB1Ttl28su8AvFMOY0EwRbAe+HCLqj6W7/KA==" crossorigin>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/13.0.0/typography.min.css" integrity="sha512-Y1DYSb995BAfxobCkKepB1BqJJTPrOp3zPL74AWFugHHmmdcvO+C48WLrUOlhGMc0QG7AE3f7gmvvcrmX2fDoA==" crossorigin>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/default.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:1.5em;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:2em 0 .50em 0}h3{font-size:1.4em;margin:1.6em 0 .7em 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .2s ease-in-out}a:visited{color:#503}a:hover{color:#b62}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900;font-weight:bold}pre code{font-size:.8em;line-height:1.4em;padding:1em;display:block}code{background:#f3f3f3;font-family:"DejaVu Sans Mono",monospace;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em 1em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul ul{padding-left:1em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js" integrity="sha512-D9gUyxqja7hBtkWpPWGt9wfbfaMGVt9gnyCvYa+jojwwPHLCzUm5i8rpk7vD7wNee9bA35eYIjobYPaQuKS1MQ==" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => {
hljs.configure({languages: ['bash', 'css', 'diff', 'graphql', 'ini', 'javascript', 'json', 'plaintext', 'python', 'python-repl', 'rust', 'shell', 'sql', 'typescript', 'xml', 'yaml']});
hljs.highlightAll();
})</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>ploigos_step_runner.step_implementer</code></h1>
</header>
<section id="section-intro">
<p>Abstract class and helper constants for StepImplementer.</p>
<h2 id="step-configuration">Step Configuration</h2>
<p>Step configuration expected as input to this step.
Could come from:
* static configuration
* runtime configuration
* previous step results</p>
<table>
<thead>
<tr>
<th>Configuration Key</th>
<th>Required?</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>additional-artifacts</code></td>
<td>No</td>
<td><code>[]</code></td>
<td>List of additional artifacts, or list of dicts
of additional artifacts to add as artifacts on the
step step result (pass or fail). <br/><b>EX 1</b>: <br/><pre>additional-artifacts: <br/>- randomValue1 <br/>- /path/to/something/important_dir <br/>- /path/to/cool/file.xml</pre> <br/><b>EX 1</b>: <br/><pre>additional-artifacts: <br/>- name: mock-value <br/>  value: randomValue1 <br/>- name: mock-dir <br/>  value: /path/to/something/important_dir <br/>- name: mock-file <br/>  value: /path/to/cool/file.xml</pre></td>
</tr>
</tbody>
</table>
</section>
<section>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="ploigos_step_runner.step_implementer.DefaultSteps"><code class="flex name class">
<span>class <span class="ident">DefaultSteps</span></span>
</code></dt>
<dd>
<div class="desc"><p>Convenience constants for the default steps used in the default workflow definition.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class DefaultSteps:  # pylint: disable=too-few-public-methods
    &#34;&#34;&#34;Convenience constants for the default steps used in the default workflow definition.
    &#34;&#34;&#34;
    GENERATE_METADATA = &#39;generate-metadata&#39;
    TAG_SOURCE = &#39;tag-source&#39;
    STATIC_CODE_ANALYSIS = &#39;static-code-analysis&#39;
    PACKAGE = &#39;package&#39;
    UNIT_TEST = &#39;unit-test&#39;
    PUSH_ARTIFACTS = &#39;push-artifacts&#39;
    CREATE_CONTAINER_IMAGE = &#39;create-container-image&#39;
    PUSH_CONTAINER_IMAGE = &#39;push-container-image&#39;
    SIGN_CONTAINER_IMAGE = &#39;sign-container-image&#39;
    CONTAINER_IMAGE_UNIT_TEST = &#39;container-image-unit-test&#39;
    CONTAINER_IMAGE_STATIC_COMPLIANCE_SCAN = &#39;container-image-static-compliance-scan&#39;
    CONTAINER_IMAGE_STATIC_VULNERABILITY_SCAN = &#39;container-image-static-vulnerability-scan&#39;
    CREATE_DEPLOYMENT_ENVIRONMENT = &#39;create-deployment-environment&#39;
    DEPLOY = &#39;deploy&#39;
    UAT = &#39;uat&#39;
    RUNTIME_VULNERABILITY_SCAN = &#39;runtime-vulnerability-scan&#39;
    CANARY_TEST = &#39;canary-test&#39;
    UNDEPLOY = &#39;undeploy&#39;
    PUBLISH_WORKFLOW_RESULTS = &#39;publish-workflow-results&#39;</code></pre>
</details>
<h3>Class variables</h3>
<dl>
<dt id="ploigos_step_runner.step_implementer.DefaultSteps.CANARY_TEST"><code class="name">var <span class="ident">CANARY_TEST</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="ploigos_step_runner.step_implementer.DefaultSteps.CONTAINER_IMAGE_STATIC_COMPLIANCE_SCAN"><code class="name">var <span class="ident">CONTAINER_IMAGE_STATIC_COMPLIANCE_SCAN</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="ploigos_step_runner.step_implementer.DefaultSteps.CONTAINER_IMAGE_STATIC_VULNERABILITY_SCAN"><code class="name">var <span class="ident">CONTAINER_IMAGE_STATIC_VULNERABILITY_SCAN</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="ploigos_step_runner.step_implementer.DefaultSteps.CONTAINER_IMAGE_UNIT_TEST"><code class="name">var <span class="ident">CONTAINER_IMAGE_UNIT_TEST</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="ploigos_step_runner.step_implementer.DefaultSteps.CREATE_CONTAINER_IMAGE"><code class="name">var <span class="ident">CREATE_CONTAINER_IMAGE</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="ploigos_step_runner.step_implementer.DefaultSteps.CREATE_DEPLOYMENT_ENVIRONMENT"><code class="name">var <span class="ident">CREATE_DEPLOYMENT_ENVIRONMENT</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="ploigos_step_runner.step_implementer.DefaultSteps.DEPLOY"><code class="name">var <span class="ident">DEPLOY</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="ploigos_step_runner.step_implementer.DefaultSteps.GENERATE_METADATA"><code class="name">var <span class="ident">GENERATE_METADATA</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="ploigos_step_runner.step_implementer.DefaultSteps.PACKAGE"><code class="name">var <span class="ident">PACKAGE</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="ploigos_step_runner.step_implementer.DefaultSteps.PUBLISH_WORKFLOW_RESULTS"><code class="name">var <span class="ident">PUBLISH_WORKFLOW_RESULTS</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="ploigos_step_runner.step_implementer.DefaultSteps.PUSH_ARTIFACTS"><code class="name">var <span class="ident">PUSH_ARTIFACTS</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="ploigos_step_runner.step_implementer.DefaultSteps.PUSH_CONTAINER_IMAGE"><code class="name">var <span class="ident">PUSH_CONTAINER_IMAGE</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="ploigos_step_runner.step_implementer.DefaultSteps.RUNTIME_VULNERABILITY_SCAN"><code class="name">var <span class="ident">RUNTIME_VULNERABILITY_SCAN</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="ploigos_step_runner.step_implementer.DefaultSteps.SIGN_CONTAINER_IMAGE"><code class="name">var <span class="ident">SIGN_CONTAINER_IMAGE</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="ploigos_step_runner.step_implementer.DefaultSteps.STATIC_CODE_ANALYSIS"><code class="name">var <span class="ident">STATIC_CODE_ANALYSIS</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="ploigos_step_runner.step_implementer.DefaultSteps.TAG_SOURCE"><code class="name">var <span class="ident">TAG_SOURCE</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="ploigos_step_runner.step_implementer.DefaultSteps.UAT"><code class="name">var <span class="ident">UAT</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="ploigos_step_runner.step_implementer.DefaultSteps.UNDEPLOY"><code class="name">var <span class="ident">UNDEPLOY</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
<dt id="ploigos_step_runner.step_implementer.DefaultSteps.UNIT_TEST"><code class="name">var <span class="ident">UNIT_TEST</span></code></dt>
<dd>
<div class="desc"></div>
</dd>
</dl>
</dd>
<dt id="ploigos_step_runner.step_implementer.StepImplementer"><code class="flex name class">
<span>class <span class="ident">StepImplementer</span></span>
<span>(</span><span>workflow_result, parent_work_dir_path, config, environment=None)</span>
</code></dt>
<dd>
<div class="desc"><p>Abstract representation of a step implementer.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>workflow_result</code></strong> :&ensp;<code>WorkflowResult</code></dt>
<dd>The WorkflowResult to add StepResult to when running this StepImplementer.</dd>
<dt><strong><code>parent_work_dir_path</code></strong> :&ensp;<code>str</code></dt>
<dd>Path to the directory to write step working files to</dd>
<dt><strong><code>step_environment_config</code></strong> :&ensp;<code>dict</code>, optional</dt>
<dd>Step configuration specific to the current environment.</dd>
<dt><strong><code>config</code></strong> :&ensp;<code>SubStepConfig</code></dt>
<dd>Configuration for this step.</dd>
<dt><strong><code>environment</code></strong> :&ensp;<code>str</code></dt>
<dd>Environment name to execute this step against</dd>
<dt><strong><code>Attributes</code></strong></dt>
<dd>&nbsp;</dd>
<dt><strong><code>__config</code></strong> :&ensp;<code>SubStepConfig</code></dt>
<dd>&nbsp;</dd>
<dt><strong><code>__environment</code></strong> :&ensp;<code>str</code></dt>
<dd>&nbsp;</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class StepImplementer(ABC):  # pylint: disable=too-many-instance-attributes
    # pylint: disable=too-many-public-methods
    &#34;&#34;&#34;Abstract representation of a step implementer.

    Parameters
    ----------
    workflow_result : WorkflowResult
        The WorkflowResult to add StepResult to when running this StepImplementer.
    parent_work_dir_path : str
        Path to the directory to write step working files to
    step_environment_config : dict, optional
        Step configuration specific to the current environment.
    config : SubStepConfig
        Configuration for this step.
    environment : str
        Environment name to execute this step against

    Attributes
    __config : SubStepConfig
    __environment : str
    &#34;&#34;&#34;

    __TITLE_LENGTH = 80
    __INDENT_SIZE   = 4

    def __init__(  # pylint: disable=too-many-arguments
        self,
        workflow_result,
        parent_work_dir_path,
        config,
        environment=None
    ):
        self.__parent_work_dir_path = parent_work_dir_path

        self.__config = config
        self.__environment = environment

        self.__workflow_result = workflow_result

        super().__init__()

    @property
    def config(self):
        &#34;&#34;&#34;
        Returns
        -------
        SubStepConfig
            Configuration for this step.
        &#34;&#34;&#34;
        return self.__config

    @property
    def environment(self):
        &#34;&#34;&#34;
        Returns
        -------
        str
            Environment name to execute this step against
        &#34;&#34;&#34;
        return self.__environment

    @property
    def step_config(self):
        &#34;&#34;&#34;
        Returns
        -------
        dict
            Step configuration.
        &#34;&#34;&#34;
        return self.config.sub_step_config

    @property
    def step_config_overrides(self):
        &#34;&#34;&#34;
        Returns
        -------
        dict
            Step configuration overrides.
        &#34;&#34;&#34;
        return self.config.step_config_overrides

    @property
    def step_environment_config(self):
        &#34;&#34;&#34;
        Returns
        -------
        dict
            Step configuration specific to the current environment.
        &#34;&#34;&#34;
        return self.config.get_sub_step_env_config(self.environment)

    @property
    def global_config_defaults(self):
        &#34;&#34;&#34;
        Returns
        -------
        dict
            Global configuration defaults affecting this step.
        &#34;&#34;&#34;
        return self.config.global_defaults

    @property
    def global_environment_config_defaults(self):
        &#34;&#34;&#34;
        Returns
        -------
        dict
            Global configuration defaults affecting this step specific to the current environment.
        &#34;&#34;&#34;

        if self.environment is not None:
            defaults_for_env = self.config.get_global_environment_defaults(self.environment)
        else:
            defaults_for_env = {}

        return defaults_for_env

    @property
    def work_dir_path(self):
        &#34;&#34;&#34;Get the OS path to the working folder for this step.
        If the folder does not exist, create it.

        Returns
        -------
        str
            OS path to the working folder plus step name.
        &#34;&#34;&#34;
        work_dir_path_step = os.path.join(self.__parent_work_dir_path, self.step_name)
        if self.environment:
            work_dir_path_step = os.path.join(work_dir_path_step, self.environment)
        os.makedirs(work_dir_path_step, exist_ok=True)
        return work_dir_path_step


    @property
    def step_name(self):
        &#34;&#34;&#34;
        Getter for the step name implemented by this step.
        Returns
        -------
        str
            Step name implemented by this step.
        &#34;&#34;&#34;
        return self.config.step_name

    @property
    def sub_step_name(self):
        &#34;&#34;&#34;
        Getter for the sub step name implemented by this step.
        Returns
        -------
        str
            Sub step name.
        &#34;&#34;&#34;
        return self.config.sub_step_name

    @property
    def sub_step_implementer_name(self):
        &#34;&#34;&#34;
        Getter for the sub step implementer name implemented by this step.
        Returns
        -------
        str
            Sub step implementer name.
        &#34;&#34;&#34;
        return self.config.sub_step_implementer_name

    @property
    def workflow_result(self):
        &#34;&#34;&#34;
        Returns
        -------
        WorkflowResult
            Object containing a list of dictionary of step results
            from previous steps.
        &#34;&#34;&#34;
        return self.__workflow_result

    @staticmethod
    @abstractmethod
    def step_implementer_config_defaults():
        &#34;&#34;&#34;
        Getter for the StepImplementer&#39;s configuration defaults.

        Notes
        -----
        These are the lowest precedence configuration values.

        Returns
        -------
        dict
            Default values to use for step configuration values.
        &#34;&#34;&#34;

    @staticmethod
    @abstractmethod
    def _required_config_or_result_keys():
        &#34;&#34;&#34;Getter for step configuration or previous step result artifacts that are required before
        running this step.

        See Also
        --------
        _validate_required_config_or_previous_step_result_artifact_keys

        Returns
        -------
        array_list
            Array of configuration keys or previous step result artifacts
            that are required before running the step.
        &#34;&#34;&#34;

    @abstractmethod
    def _run_step(self):
        &#34;&#34;&#34;Runs the step implemented by this StepImplementer.

        Returns
        -------
        StepResult
            Object containing the dictionary results of this step.
        &#34;&#34;&#34;

    def _validate_required_config_or_previous_step_result_artifact_keys(self):
        &#34;&#34;&#34;Validates that the required configuration keys or previous step result artifacts
        are set and have valid values.

        Raises
        ------
        AssertionError
            If step configuration or previous step result artifacts have invalid required values.
        &#34;&#34;&#34;
        invalid_required_keys = []
        for required_key in self._required_config_or_result_keys():
            required_value = self.get_value(required_key)

            if required_value is None:
                invalid_required_keys.append(required_key)

        assert (not invalid_required_keys), \
            &#39;Missing required step configuration or previous step result artifact keys: &#39; + \
            f&#39;{invalid_required_keys}&#39;

    def run_step(self):
        &#34;&#34;&#34;Wrapper for running the implemented step.

        Returns
        -------
        StepResult
            Results of running this step.
        &#34;&#34;&#34;

        StepImplementer.__print_section_title(
            f&#34;Step Start - {self.step_name} ({self.sub_step_name})&#34;
        )

        # print information about the configuration
        StepImplementer.__print_section_title(
            f&#34;Configuration - {self.step_name} ({self.sub_step_name})&#34;,
            div_char=&#34;-&#34;,
            indent=1
        )
        StepImplementer.__print_data(
            &#34;Step Implementer Configuration Defaults&#34;,
            ConfigValue.convert_leaves_to_values(self.step_implementer_config_defaults())
        )
        StepImplementer.__print_data(
            &#34;Global Configuration Defaults&#34;,
            ConfigValue.convert_leaves_to_values(self.global_config_defaults)
        )
        StepImplementer.__print_data(
            &#34;Global Environment Configuration Defaults&#34;,
            ConfigValue.convert_leaves_to_values(self.global_environment_config_defaults)
        )
        StepImplementer.__print_data(
            &#34;Step Configuration&#34;,
            ConfigValue.convert_leaves_to_values(self.step_config)
        )
        StepImplementer.__print_data(
            &#34;Step Environment Configuration&#34;,
            ConfigValue.convert_leaves_to_values(self.step_environment_config)
        )
        StepImplementer.__print_data(
            &#34;Step Configuration Runtime Overrides&#34;,
            ConfigValue.convert_leaves_to_values(self.step_config_overrides)
        )

        # create the munged runtime step configuration and print
        copy_of_runtime_step_config = self.get_copy_of_runtime_step_config()
        StepImplementer.__print_data(
            &#34;Runtime Step Configuration&#34;,
            ConfigValue.convert_leaves_to_values(copy_of_runtime_step_config)
        )

        step_result = None
        try:
            # validate the runtime step configuration
            self._validate_required_config_or_previous_step_result_artifact_keys()

            # run the step
            StepImplementer.__print_section_title(
                f&#34;Standard Out - {self.step_name} ({self.sub_step_name})&#34;,
                div_char=&#34;-&#34;,
                indent=1
            )
            indented_stdout = TextIOIndenter(parent_stream=sys.stdout, indent_level=2)
            indented_stderr = TextIOIndenter(parent_stream=sys.stderr, indent_level=2)
            with redirect_stdout(indented_stdout), redirect_stderr(indented_stderr):
                step_result = self._run_step()
                sys.stdout.flush()
                sys.stderr.flush()

            # add any additional artifacts
            self.__add_additional_artifacts_to_step_result(step_result=step_result)
        except AssertionError as invalid_error:
            step_result = StepResult.from_step_implementer(self)
            step_result.success = False
            step_result.message = str(invalid_error)

        # print the step run results
        StepImplementer.__print_section_title(
            f&#34;Results - {self.step_name} ({self.sub_step_name})&#34;,
            div_char=&#34;-&#34;,
            indent=1
        )
        StepImplementer.__print_data(&#39;Environment&#39;, step_result.environment)
        StepImplementer.__print_data(&#39;Step&#39;, step_result.step_name)
        StepImplementer.__print_data(&#39;Sub Step&#39;, step_result.sub_step_name)
        StepImplementer.__print_data(&#39;Sub Step Implementer&#39;, step_result.sub_step_implementer_name)
        StepImplementer.__print_data(&#39;Success&#39;, step_result.success)
        StepImplementer.__print_data(&#39;Message&#39;, step_result.message)
        StepImplementer.__print_data(&#39;Artifacts&#39;, step_result.artifacts_dicts)
        StepImplementer.__print_data(&#39;Evidence&#39;, step_result.evidence_dicts)

        StepImplementer.__print_section_title(f&#39;Step End - {self.step_name} ({self.sub_step_name})&#39;)
        return step_result

    def get_value(self, key):
        &#34;&#34;&#34;Get the value for a given key, either from given configuration or from the result
        of any previous step.

        From least precedence to highest precedence.

            1. defaults
            2. Global Configuration Defaults (self.global_config_defaults)
            3. Global Environment Configuration Defaults (self.global_environment_config_defaults)
            4. Previous step result in same environment as this step
            5. Previous step result in any environment
            6. Step Configuration ( self.step_config)
            7. Step Environment Configuration (self.step_environment_config)
            8. Step Configuration Runtime Overrides (step_config_runtime_overrides)

        Parameters
        ----------
        key : str, array
            Key to get the configuration value or result value for.
            If array will get configuration value or result value for first key in list with a
            value.

        Returns
        -------
        str, int, dict, list, or bool or None
            Configuration value, or if not set, result value from any previous step for the given
            key. Or None if not found.
        &#34;&#34;&#34;

        if isinstance(key, list):
            keys = key
        else:
            keys = [key]

        # first try to get config value (without defaults) from any of the keys (in order)
        # NOTE: do this in its own loop so user config values for any given key are always
        #       prioritized over result values from any of the keys
        for k in keys:
            config_value = self.get_config_value(k, with_defaults=False)
            if config_value is not None:
                return config_value

        # second try to get result value from any of the given keys (in order)
        for k in keys:
            # if not found config value try to get result value specific to current environment
            if self.environment:
                result_value = self.get_result_value(
                    artifact_name=k,
                    environment=self.environment
                )
                if result_value is not None:
                    return result_value

            # try getting result value from no specific environment
            result_value = self.get_result_value(
                artifact_name=k
            )
            if result_value is not None:
                return result_value

        # last get config from defaults
        # NOTE: do this in separate loop so none default values are prioritized for all keys
        #       over any default values for any of the keys
        for k in keys:
            config_value_default = self.get_config_value(k, with_defaults=True)
            if config_value_default is not None:
                return config_value_default

        return None

    def get_config_value(self, key, with_defaults=True):
        &#34;&#34;&#34;Convenience function for self.config.get_config_value.

        Get the configuration value for a given configuration key from the
        merged set of configuration sources.

        From least precedence to highest precedence.

            1. defaults
            2. Global Configuration Defaults (self.global_config_defaults)
            3. Global Environment Configuration Defaults (self.global_environment_config_defaults)
            4. Step Configuration ( self.step_config)
            5. Step Environment Configuration (self.step_environment_config)
            6. Step Configuration Runtime Overrides (step_config_runtime_overrides)

        Also See
        --------
        SubStepConfig.get_config_value
        get_copy_of_runtime_step_config

        Parameters
        ----------
        key : str
            Key to get the configuration value for.
        with_defaults : bool
            If True then consider defaults, else if False, only consider user specified config.

        Returns
        -------
        str, int, dict, list, or bool or None
            Value of the given configuration key or None if one does not exist
            for this sub step in the given context with the given defaults.
        &#34;&#34;&#34;
        if with_defaults:
            defaults = self.step_implementer_config_defaults()
        else:
            defaults = None

        return self.config.get_config_value(
            key=key,
            environment=self.environment,
            defaults=defaults
        )

    def get_copy_of_runtime_step_config(self):
        &#34;&#34;&#34;Convenience function for self.config.get_copy_of_runtime_step_config

        See Also
        --------
        SubStepConfig.get_copy_of_runtime_step_config
        get_config_value

        Returns
        -------
        dict
            A deep copy of the merged runtime step configuration
        &#34;&#34;&#34;
        return self.config.get_copy_of_runtime_step_config(
            self.environment,
            self.step_implementer_config_defaults())

    def has_config_value(self, keys, match_any=False):
        &#34;&#34;&#34;Determines if step has values for any of the given keys.

        Parameters
        ----------
        keys : str or list of str
            Keys to check to see if there are values for any or all of these key(s).
        match_any : bool
            If True only one key has to have a value.
            If False then all given keys have to have values.

        Returns
        -------
        bool
            True if any/all (depending on value of match_any) keys have a value.
            False otherwise.
        &#34;&#34;&#34;
        if isinstance(keys, str):
            keys = [keys]

        result = not match_any
        for key in keys:
            if match_any and self.get_value(key) is not None:
                result = True
                break

            if not match_any and self.get_value(key) is None:
                result = False
                break

        return result

    def get_result_value(
        self,
        artifact_name,
        step_name=None,
        sub_step_name=None,
        environment=None
    ):
        &#34;&#34;&#34;Get the value for the named artifact from a previous step result.

        If step_name is provided,
            search for artifact_name in step_name only
        If step_name and sub_step_name is provided,
            search for artifact_name in step_name/sub_step only
        Otherwise,
             search for the FIRST occurrence of the artifact_name

        EG:  Artifacts are a dictionary; return the contents of the value key.
          In this example, &#39;foo&#39; is the artifact name, return &#39;bar&#39;
          &#39;foo&#39; : {&#39;description&#39;: &#39;&#39;, &#39;value&#39;: &#39;bar&#39;}

        Parameters
        ----------
        artifact_name : str
           Key name of the dictionary.

        Returns
        -------
        str
           Contents of the value for the specified result artifact_name.
        &#34;&#34;&#34;
        return (
            self.workflow_result.get_artifact_value(
                artifact=artifact_name,
                step_name=step_name,
                sub_step_name=sub_step_name,
                environment=environment
            )
        )

    def create_working_dir_sub_dir(self, sub_dir_relative_path=&#34;&#34;):
        &#34;&#34;&#34;Create a folder under the working/stepname folder.

        Returns
        -------
        str
            Path to created working sub directory.
        &#34;&#34;&#34;
        file_path = os.path.join(self.work_dir_path, sub_dir_relative_path)
        os.makedirs(file_path, exist_ok=True)
        return file_path

    def write_working_file(self, filename, contents=None):
        &#34;&#34;&#34;Write content or touch filename in working directory for this step.

        Parameters
        ----------
        filename : str
            File name to create
        contents : str, optional
            Contents to write to the file

        Returns
        -------
        str
            Return a string to the file path
        &#34;&#34;&#34;
        # eg: step-runner-working/step_name
        file_path = os.path.join(self.work_dir_path, filename)

        # sub-directories might be passed filename, eg: foo/filename
        os.makedirs(os.path.dirname(file_path), exist_ok=True)

        if contents is None:
            Path(file_path).touch()
        else:
            with open(file_path, &#39;wb&#39;) as file:
                file.write(contents)
        return file_path

    def __add_additional_artifacts_to_step_result(self, step_result):
        &#34;&#34;&#34;Adds user supplied additional artifacts to step result if given.

        Parameters
        ----------
        step_result : StepResult
            StepResult to add the additional artifacts to.
        &#34;&#34;&#34;
        additional_artifacts = self.get_value(&#39;additional-artifacts&#39;)
        if isinstance(additional_artifacts, list):
            for additional_artifact in additional_artifacts:
                if isinstance(additional_artifact, dict):
                    step_result.add_artifact(
                        name=additional_artifact[&#39;name&#39;],
                        value=additional_artifact[&#39;value&#39;]
                    )
                else:
                    step_result.add_artifact(
                        name=os.path.basename(additional_artifact),
                        value=additional_artifact
                    )

    @staticmethod
    def __print_section_title(title, div_char=&#34;=&#34;, indent=0):
        &#34;&#34;&#34;Utility function for pretty printing section title.

        Parameters
        ----------
        title : str
            Section title to print
        &#34;&#34;&#34;
        print()
        print()
        StepImplementer.__print_indented(
            text=div_char * StepImplementer.__TITLE_LENGTH,
            indent=indent
        )
        StepImplementer.__print_indented(
            text=title.center(StepImplementer.__TITLE_LENGTH),
            indent=indent
        )
        StepImplementer.__print_indented(
            text=div_char * StepImplementer.__TITLE_LENGTH,
            indent=indent
        )

    @staticmethod
    def __print_data(title, data, indent=2):
        &#34;&#34;&#34;Utility function for pretty printing data.

        Notes
        -----
        Indent levels are each are StepImplementer.__INDENT_SIZE spaces wide.

        Parameters
        ----------
        title : str
            Title of the data to print.
        data
            Data to print
        indent : int
            Amount to indent the title by and then the content by this +1
        &#34;&#34;&#34;

        StepImplementer.__print_indented(
            text=title,
            indent=indent
        )

        # NOTE: do a json.dumps so that when printing dicts and arrays the {} and [] get put on
        #       their own lines which there is no way to do with PrettyPrinter.
        if isinstance(data, (dict, list)):
            formated_data = json.dumps(
                data,
                indent=StepImplementer.__INDENT_SIZE
            )
        elif isinstance(data, str):
            formated_data = data
        else:
            printer = pprint.PrettyPrinter()
            formated_data = printer.pformat(data)

        StepImplementer.__print_indented(
            text=formated_data,
            indent=indent + 1
        )
        print()

    @staticmethod
    def __print_indented(text, indent=0):
        &#34;&#34;&#34;Prints the given text indented by a given indent level.

        Notes
        -----
        Indent levels are each are StepImplementer.__INDENT_SIZE spaces wide.

        Parameters
        ----------
        text : str
            Text to print indented.
        indent : indent
            amount to indent the given text by before printing.
        &#34;&#34;&#34;
        print(textwrap.indent(
            text=text,
            prefix=&#34; &#34; * (StepImplementer.__INDENT_SIZE * indent)
        ))</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li>abc.ABC</li>
</ul>
<h3>Subclasses</h3>
<ul class="hlist">
<li><a title="ploigos_step_runner.step_implementers.audit_attestation.opa.OpenPolicyAgent" href="step_implementers/audit_attestation/opa.html#ploigos_step_runner.step_implementers.audit_attestation.opa.OpenPolicyAgent">OpenPolicyAgent</a></li>
<li><a title="ploigos_step_runner.step_implementers.create_container_image.buildah.Buildah" href="step_implementers/create_container_image/buildah.html#ploigos_step_runner.step_implementers.create_container_image.buildah.Buildah">Buildah</a></li>
<li><a title="ploigos_step_runner.step_implementers.create_container_image.source_to_image.SourceToImage" href="step_implementers/create_container_image/source_to_image.html#ploigos_step_runner.step_implementers.create_container_image.source_to_image.SourceToImage">SourceToImage</a></li>
<li><a title="ploigos_step_runner.step_implementers.examples.hello_shell.HelloShell" href="step_implementers/examples/hello_shell.html#ploigos_step_runner.step_implementers.examples.hello_shell.HelloShell">HelloShell</a></li>
<li><a title="ploigos_step_runner.step_implementers.examples.hello_world.HelloWorld" href="step_implementers/examples/hello_world.html#ploigos_step_runner.step_implementers.examples.hello_world.HelloWorld">HelloWorld</a></li>
<li><a title="ploigos_step_runner.step_implementers.generate_evidence.generate_evidence.GenerateEvidence" href="step_implementers/generate_evidence/generate_evidence.html#ploigos_step_runner.step_implementers.generate_evidence.generate_evidence.GenerateEvidence">GenerateEvidence</a></li>
<li><a title="ploigos_step_runner.step_implementers.generate_metadata.commitizen.Commitizen" href="step_implementers/generate_metadata/commitizen.html#ploigos_step_runner.step_implementers.generate_metadata.commitizen.Commitizen">Commitizen</a></li>
<li><a title="ploigos_step_runner.step_implementers.generate_metadata.dotnet_generate_metadata.DotnetGenerateMetadata" href="step_implementers/generate_metadata/dotnet_generate_metadata.html#ploigos_step_runner.step_implementers.generate_metadata.dotnet_generate_metadata.DotnetGenerateMetadata">DotnetGenerateMetadata</a></li>
<li><a title="ploigos_step_runner.step_implementers.generate_metadata.git.Git" href="step_implementers/generate_metadata/git.html#ploigos_step_runner.step_implementers.generate_metadata.git.Git">Git</a></li>
<li><a title="ploigos_step_runner.step_implementers.generate_metadata.jenkins.Jenkins" href="step_implementers/generate_metadata/jenkins.html#ploigos_step_runner.step_implementers.generate_metadata.jenkins.Jenkins">Jenkins</a></li>
<li><a title="ploigos_step_runner.step_implementers.generate_metadata.npm.Npm" href="step_implementers/generate_metadata/npm.html#ploigos_step_runner.step_implementers.generate_metadata.npm.Npm">Npm</a></li>
<li><a title="ploigos_step_runner.step_implementers.generate_metadata.semantic_version.SemanticVersion" href="step_implementers/generate_metadata/semantic_version.html#ploigos_step_runner.step_implementers.generate_metadata.semantic_version.SemanticVersion">SemanticVersion</a></li>
<li><a title="ploigos_step_runner.step_implementers.package.dotnet_package.DotnetPackage" href="step_implementers/package/dotnet_package.html#ploigos_step_runner.step_implementers.package.dotnet_package.DotnetPackage">DotnetPackage</a></li>
<li><a title="ploigos_step_runner.step_implementers.push_container_image.pelorus_commit_timestamp_metric.PelorusCommitTimestampMetric" href="step_implementers/push_container_image/pelorus_commit_timestamp_metric.html#ploigos_step_runner.step_implementers.push_container_image.pelorus_commit_timestamp_metric.PelorusCommitTimestampMetric">PelorusCommitTimestampMetric</a></li>
<li><a title="ploigos_step_runner.step_implementers.push_container_image.skopeo.Skopeo" href="step_implementers/push_container_image/skopeo.html#ploigos_step_runner.step_implementers.push_container_image.skopeo.Skopeo">Skopeo</a></li>
<li><a title="ploigos_step_runner.step_implementers.report.result_artifacts_archive.ResultArtifactsArchive" href="step_implementers/report/result_artifacts_archive.html#ploigos_step_runner.step_implementers.report.result_artifacts_archive.ResultArtifactsArchive">ResultArtifactsArchive</a></li>
<li><a title="ploigos_step_runner.step_implementers.shared.argocd_generic.ArgoCDGeneric" href="step_implementers/shared/argocd_generic.html#ploigos_step_runner.step_implementers.shared.argocd_generic.ArgoCDGeneric">ArgoCDGeneric</a></li>
<li><a title="ploigos_step_runner.step_implementers.shared.maven_generic.MavenGeneric" href="step_implementers/shared/maven_generic.html#ploigos_step_runner.step_implementers.shared.maven_generic.MavenGeneric">MavenGeneric</a></li>
<li><a title="ploigos_step_runner.step_implementers.shared.npm_generic.NpmGeneric" href="step_implementers/shared/npm_generic.html#ploigos_step_runner.step_implementers.shared.npm_generic.NpmGeneric">NpmGeneric</a></li>
<li><a title="ploigos_step_runner.step_implementers.shared.openscap_generic.OpenSCAPGeneric" href="step_implementers/shared/openscap_generic.html#ploigos_step_runner.step_implementers.shared.openscap_generic.OpenSCAPGeneric">OpenSCAPGeneric</a></li>
<li><a title="ploigos_step_runner.step_implementers.shared.rekor_sign_generic.RekorSignGeneric" href="step_implementers/shared/rekor_sign_generic.html#ploigos_step_runner.step_implementers.shared.rekor_sign_generic.RekorSignGeneric">RekorSignGeneric</a></li>
<li><a title="ploigos_step_runner.step_implementers.shared.tox_generic.ToxGeneric" href="step_implementers/shared/tox_generic.html#ploigos_step_runner.step_implementers.shared.tox_generic.ToxGeneric">ToxGeneric</a></li>
<li><a title="ploigos_step_runner.step_implementers.sign_container_image.podman_sign.PodmanSign" href="step_implementers/sign_container_image/podman_sign.html#ploigos_step_runner.step_implementers.sign_container_image.podman_sign.PodmanSign">PodmanSign</a></li>
<li><a title="ploigos_step_runner.step_implementers.static_code_analysis.sonarqube.SonarQube" href="step_implementers/static_code_analysis/sonarqube.html#ploigos_step_runner.step_implementers.static_code_analysis.sonarqube.SonarQube">SonarQube</a></li>
<li><a title="ploigos_step_runner.step_implementers.tag_source.git.Git" href="step_implementers/tag_source/git.html#ploigos_step_runner.step_implementers.tag_source.git.Git">Git</a></li>
<li><a title="ploigos_step_runner.step_implementers.validate_environment_configuration.configlint.Configlint" href="step_implementers/validate_environment_configuration/configlint.html#ploigos_step_runner.step_implementers.validate_environment_configuration.configlint.Configlint">Configlint</a></li>
<li><a title="ploigos_step_runner.step_implementers.validate_environment_configuration.configlint_from_argocd.ConfiglintFromArgocd" href="step_implementers/validate_environment_configuration/configlint_from_argocd.html#ploigos_step_runner.step_implementers.validate_environment_configuration.configlint_from_argocd.ConfiglintFromArgocd">ConfiglintFromArgocd</a></li>
</ul>
<h3>Static methods</h3>
<dl>
<dt id="ploigos_step_runner.step_implementer.StepImplementer.step_implementer_config_defaults"><code class="name flex">
<span>def <span class="ident">step_implementer_config_defaults</span></span>(<span>)</span>
</code></dt>
<dd>
<div class="desc"><p>Getter for the StepImplementer's configuration defaults.</p>
<h2 id="notes">Notes</h2>
<p>These are the lowest precedence configuration values.</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>dict</code></dt>
<dd>Default values to use for step configuration values.</dd>
</dl></div>
</dd>
</dl>
<h3>Instance variables</h3>
<dl>
<dt id="ploigos_step_runner.step_implementer.StepImplementer.config"><code class="name">prop <span class="ident">config</span></code></dt>
<dd>
<div class="desc"><h2 id="returns">Returns</h2>
<dl>
<dt><code>SubStepConfig</code></dt>
<dd>Configuration for this step.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def config(self):
    &#34;&#34;&#34;
    Returns
    -------
    SubStepConfig
        Configuration for this step.
    &#34;&#34;&#34;
    return self.__config</code></pre>
</details>
</dd>
<dt id="ploigos_step_runner.step_implementer.StepImplementer.environment"><code class="name">prop <span class="ident">environment</span></code></dt>
<dd>
<div class="desc"><h2 id="returns">Returns</h2>
<dl>
<dt><code>str</code></dt>
<dd>Environment name to execute this step against</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def environment(self):
    &#34;&#34;&#34;
    Returns
    -------
    str
        Environment name to execute this step against
    &#34;&#34;&#34;
    return self.__environment</code></pre>
</details>
</dd>
<dt id="ploigos_step_runner.step_implementer.StepImplementer.global_config_defaults"><code class="name">prop <span class="ident">global_config_defaults</span></code></dt>
<dd>
<div class="desc"><h2 id="returns">Returns</h2>
<dl>
<dt><code>dict</code></dt>
<dd>Global configuration defaults affecting this step.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def global_config_defaults(self):
    &#34;&#34;&#34;
    Returns
    -------
    dict
        Global configuration defaults affecting this step.
    &#34;&#34;&#34;
    return self.config.global_defaults</code></pre>
</details>
</dd>
<dt id="ploigos_step_runner.step_implementer.StepImplementer.global_environment_config_defaults"><code class="name">prop <span class="ident">global_environment_config_defaults</span></code></dt>
<dd>
<div class="desc"><h2 id="returns">Returns</h2>
<dl>
<dt><code>dict</code></dt>
<dd>Global configuration defaults affecting this step specific to the current environment.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def global_environment_config_defaults(self):
    &#34;&#34;&#34;
    Returns
    -------
    dict
        Global configuration defaults affecting this step specific to the current environment.
    &#34;&#34;&#34;

    if self.environment is not None:
        defaults_for_env = self.config.get_global_environment_defaults(self.environment)
    else:
        defaults_for_env = {}

    return defaults_for_env</code></pre>
</details>
</dd>
<dt id="ploigos_step_runner.step_implementer.StepImplementer.step_config"><code class="name">prop <span class="ident">step_config</span></code></dt>
<dd>
<div class="desc"><h2 id="returns">Returns</h2>
<dl>
<dt><code>dict</code></dt>
<dd>Step configuration.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def step_config(self):
    &#34;&#34;&#34;
    Returns
    -------
    dict
        Step configuration.
    &#34;&#34;&#34;
    return self.config.sub_step_config</code></pre>
</details>
</dd>
<dt id="ploigos_step_runner.step_implementer.StepImplementer.step_config_overrides"><code class="name">prop <span class="ident">step_config_overrides</span></code></dt>
<dd>
<div class="desc"><h2 id="returns">Returns</h2>
<dl>
<dt><code>dict</code></dt>
<dd>Step configuration overrides.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def step_config_overrides(self):
    &#34;&#34;&#34;
    Returns
    -------
    dict
        Step configuration overrides.
    &#34;&#34;&#34;
    return self.config.step_config_overrides</code></pre>
</details>
</dd>
<dt id="ploigos_step_runner.step_implementer.StepImplementer.step_environment_config"><code class="name">prop <span class="ident">step_environment_config</span></code></dt>
<dd>
<div class="desc"><h2 id="returns">Returns</h2>
<dl>
<dt><code>dict</code></dt>
<dd>Step configuration specific to the current environment.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def step_environment_config(self):
    &#34;&#34;&#34;
    Returns
    -------
    dict
        Step configuration specific to the current environment.
    &#34;&#34;&#34;
    return self.config.get_sub_step_env_config(self.environment)</code></pre>
</details>
</dd>
<dt id="ploigos_step_runner.step_implementer.StepImplementer.step_name"><code class="name">prop <span class="ident">step_name</span></code></dt>
<dd>
<div class="desc"><p>Getter for the step name implemented by this step.
Returns</p>
<hr>
<dl>
<dt><code>str</code></dt>
<dd>Step name implemented by this step.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def step_name(self):
    &#34;&#34;&#34;
    Getter for the step name implemented by this step.
    Returns
    -------
    str
        Step name implemented by this step.
    &#34;&#34;&#34;
    return self.config.step_name</code></pre>
</details>
</dd>
<dt id="ploigos_step_runner.step_implementer.StepImplementer.sub_step_implementer_name"><code class="name">prop <span class="ident">sub_step_implementer_name</span></code></dt>
<dd>
<div class="desc"><p>Getter for the sub step implementer name implemented by this step.
Returns</p>
<hr>
<dl>
<dt><code>str</code></dt>
<dd>Sub step implementer name.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def sub_step_implementer_name(self):
    &#34;&#34;&#34;
    Getter for the sub step implementer name implemented by this step.
    Returns
    -------
    str
        Sub step implementer name.
    &#34;&#34;&#34;
    return self.config.sub_step_implementer_name</code></pre>
</details>
</dd>
<dt id="ploigos_step_runner.step_implementer.StepImplementer.sub_step_name"><code class="name">prop <span class="ident">sub_step_name</span></code></dt>
<dd>
<div class="desc"><p>Getter for the sub step name implemented by this step.
Returns</p>
<hr>
<dl>
<dt><code>str</code></dt>
<dd>Sub step name.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def sub_step_name(self):
    &#34;&#34;&#34;
    Getter for the sub step name implemented by this step.
    Returns
    -------
    str
        Sub step name.
    &#34;&#34;&#34;
    return self.config.sub_step_name</code></pre>
</details>
</dd>
<dt id="ploigos_step_runner.step_implementer.StepImplementer.work_dir_path"><code class="name">prop <span class="ident">work_dir_path</span></code></dt>
<dd>
<div class="desc"><p>Get the OS path to the working folder for this step.
If the folder does not exist, create it.</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>str</code></dt>
<dd>OS path to the working folder plus step name.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def work_dir_path(self):
    &#34;&#34;&#34;Get the OS path to the working folder for this step.
    If the folder does not exist, create it.

    Returns
    -------
    str
        OS path to the working folder plus step name.
    &#34;&#34;&#34;
    work_dir_path_step = os.path.join(self.__parent_work_dir_path, self.step_name)
    if self.environment:
        work_dir_path_step = os.path.join(work_dir_path_step, self.environment)
    os.makedirs(work_dir_path_step, exist_ok=True)
    return work_dir_path_step</code></pre>
</details>
</dd>
<dt id="ploigos_step_runner.step_implementer.StepImplementer.workflow_result"><code class="name">prop <span class="ident">workflow_result</span></code></dt>
<dd>
<div class="desc"><h2 id="returns">Returns</h2>
<dl>
<dt><code>WorkflowResult</code></dt>
<dd>Object containing a list of dictionary of step results
from previous steps.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def workflow_result(self):
    &#34;&#34;&#34;
    Returns
    -------
    WorkflowResult
        Object containing a list of dictionary of step results
        from previous steps.
    &#34;&#34;&#34;
    return self.__workflow_result</code></pre>
</details>
</dd>
</dl>
<h3>Methods</h3>
<dl>
<dt id="ploigos_step_runner.step_implementer.StepImplementer.create_working_dir_sub_dir"><code class="name flex">
<span>def <span class="ident">create_working_dir_sub_dir</span></span>(<span>self, sub_dir_relative_path='')</span>
</code></dt>
<dd>
<div class="desc"><p>Create a folder under the working/stepname folder.</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>str</code></dt>
<dd>Path to created working sub directory.</dd>
</dl></div>
</dd>
<dt id="ploigos_step_runner.step_implementer.StepImplementer.get_config_value"><code class="name flex">
<span>def <span class="ident">get_config_value</span></span>(<span>self, key, with_defaults=True)</span>
</code></dt>
<dd>
<div class="desc"><p>Convenience function for self.config.get_config_value.</p>
<p>Get the configuration value for a given configuration key from the
merged set of configuration sources.</p>
<p>From least precedence to highest precedence.</p>
<pre><code>1. defaults
2. Global Configuration Defaults (self.global_config_defaults)
3. Global Environment Configuration Defaults (self.global_environment_config_defaults)
4. Step Configuration ( self.step_config)
5. Step Environment Configuration (self.step_environment_config)
6. Step Configuration Runtime Overrides (step_config_runtime_overrides)
</code></pre>
<h2 id="also-see">Also See</h2>
<p>SubStepConfig.get_config_value
get_copy_of_runtime_step_config</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>key</code></strong> :&ensp;<code>str</code></dt>
<dd>Key to get the configuration value for.</dd>
<dt><strong><code>with_defaults</code></strong> :&ensp;<code>bool</code></dt>
<dd>If True then consider defaults, else if False, only consider user specified config.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>str, int, dict, list,</code> or <code>bool</code> or <code>None</code></dt>
<dd>Value of the given configuration key or None if one does not exist
for this sub step in the given context with the given defaults.</dd>
</dl></div>
</dd>
<dt id="ploigos_step_runner.step_implementer.StepImplementer.get_copy_of_runtime_step_config"><code class="name flex">
<span>def <span class="ident">get_copy_of_runtime_step_config</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Convenience function for self.config.get_copy_of_runtime_step_config</p>
<h2 id="see-also">See Also</h2>
<p><code>SubStepConfig.get_copy_of_runtime_step_config</code>
<code>get_config_value</code></p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>dict</code></dt>
<dd>A deep copy of the merged runtime step configuration</dd>
</dl></div>
</dd>
<dt id="ploigos_step_runner.step_implementer.StepImplementer.get_result_value"><code class="name flex">
<span>def <span class="ident">get_result_value</span></span>(<span>self, artifact_name, step_name=None, sub_step_name=None, environment=None)</span>
</code></dt>
<dd>
<div class="desc"><p>Get the value for the named artifact from a previous step result.</p>
<p>If step_name is provided,
search for artifact_name in step_name only
If step_name and sub_step_name is provided,
search for artifact_name in step_name/sub_step only
Otherwise,
search for the FIRST occurrence of the artifact_name</p>
<p>EG:
Artifacts are a dictionary; return the contents of the value key.
In this example, 'foo' is the artifact name, return 'bar'
'foo' : {'description': '', 'value': 'bar'}</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>artifact_name</code></strong> :&ensp;<code>str</code></dt>
<dd>&nbsp;</dd>
</dl>
<p>Key name of the dictionary.</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>str</code></dt>
<dd>&nbsp;</dd>
</dl>
<p>Contents of the value for the specified result artifact_name.</p></div>
</dd>
<dt id="ploigos_step_runner.step_implementer.StepImplementer.get_value"><code class="name flex">
<span>def <span class="ident">get_value</span></span>(<span>self, key)</span>
</code></dt>
<dd>
<div class="desc"><p>Get the value for a given key, either from given configuration or from the result
of any previous step.</p>
<p>From least precedence to highest precedence.</p>
<pre><code>1. defaults
2. Global Configuration Defaults (self.global_config_defaults)
3. Global Environment Configuration Defaults (self.global_environment_config_defaults)
4. Previous step result in same environment as this step
5. Previous step result in any environment
6. Step Configuration ( self.step_config)
7. Step Environment Configuration (self.step_environment_config)
8. Step Configuration Runtime Overrides (step_config_runtime_overrides)
</code></pre>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>key</code></strong> :&ensp;<code>str, array</code></dt>
<dd>Key to get the configuration value or result value for.
If array will get configuration value or result value for first key in list with a
value.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>str, int, dict, list,</code> or <code>bool</code> or <code>None</code></dt>
<dd>Configuration value, or if not set, result value from any previous step for the given
key. Or None if not found.</dd>
</dl></div>
</dd>
<dt id="ploigos_step_runner.step_implementer.StepImplementer.has_config_value"><code class="name flex">
<span>def <span class="ident">has_config_value</span></span>(<span>self, keys, match_any=False)</span>
</code></dt>
<dd>
<div class="desc"><p>Determines if step has values for any of the given keys.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>keys</code></strong> :&ensp;<code>str</code> or <code>list</code> of <code>str</code></dt>
<dd>Keys to check to see if there are values for any or all of these key(s).</dd>
<dt><strong><code>match_any</code></strong> :&ensp;<code>bool</code></dt>
<dd>If True only one key has to have a value.
If False then all given keys have to have values.</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>bool</code></dt>
<dd>True if any/all (depending on value of match_any) keys have a value.
False otherwise.</dd>
</dl></div>
</dd>
<dt id="ploigos_step_runner.step_implementer.StepImplementer.run_step"><code class="name flex">
<span>def <span class="ident">run_step</span></span>(<span>self)</span>
</code></dt>
<dd>
<div class="desc"><p>Wrapper for running the implemented step.</p>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>StepResult</code></dt>
<dd>Results of running this step.</dd>
</dl></div>
</dd>
<dt id="ploigos_step_runner.step_implementer.StepImplementer.write_working_file"><code class="name flex">
<span>def <span class="ident">write_working_file</span></span>(<span>self, filename, contents=None)</span>
</code></dt>
<dd>
<div class="desc"><p>Write content or touch filename in working directory for this step.</p>
<h2 id="parameters">Parameters</h2>
<dl>
<dt><strong><code>filename</code></strong> :&ensp;<code>str</code></dt>
<dd>File name to create</dd>
<dt><strong><code>contents</code></strong> :&ensp;<code>str</code>, optional</dt>
<dd>Contents to write to the file</dd>
</dl>
<h2 id="returns">Returns</h2>
<dl>
<dt><code>str</code></dt>
<dd>Return a string to the file path</dd>
</dl></div>
</dd>
</dl>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<div class="toc">
<ul>
<li><a href="#step-configuration">Step Configuration</a></li>
</ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="ploigos_step_runner" href="index.html">ploigos_step_runner</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="ploigos_step_runner.step_implementer.DefaultSteps" href="#ploigos_step_runner.step_implementer.DefaultSteps">DefaultSteps</a></code></h4>
<ul class="">
<li><code><a title="ploigos_step_runner.step_implementer.DefaultSteps.CANARY_TEST" href="#ploigos_step_runner.step_implementer.DefaultSteps.CANARY_TEST">CANARY_TEST</a></code></li>
<li><code><a title="ploigos_step_runner.step_implementer.DefaultSteps.CONTAINER_IMAGE_STATIC_COMPLIANCE_SCAN" href="#ploigos_step_runner.step_implementer.DefaultSteps.CONTAINER_IMAGE_STATIC_COMPLIANCE_SCAN">CONTAINER_IMAGE_STATIC_COMPLIANCE_SCAN</a></code></li>
<li><code><a title="ploigos_step_runner.step_implementer.DefaultSteps.CONTAINER_IMAGE_STATIC_VULNERABILITY_SCAN" href="#ploigos_step_runner.step_implementer.DefaultSteps.CONTAINER_IMAGE_STATIC_VULNERABILITY_SCAN">CONTAINER_IMAGE_STATIC_VULNERABILITY_SCAN</a></code></li>
<li><code><a title="ploigos_step_runner.step_implementer.DefaultSteps.CONTAINER_IMAGE_UNIT_TEST" href="#ploigos_step_runner.step_implementer.DefaultSteps.CONTAINER_IMAGE_UNIT_TEST">CONTAINER_IMAGE_UNIT_TEST</a></code></li>
<li><code><a title="ploigos_step_runner.step_implementer.DefaultSteps.CREATE_CONTAINER_IMAGE" href="#ploigos_step_runner.step_implementer.DefaultSteps.CREATE_CONTAINER_IMAGE">CREATE_CONTAINER_IMAGE</a></code></li>
<li><code><a title="ploigos_step_runner.step_implementer.DefaultSteps.CREATE_DEPLOYMENT_ENVIRONMENT" href="#ploigos_step_runner.step_implementer.DefaultSteps.CREATE_DEPLOYMENT_ENVIRONMENT">CREATE_DEPLOYMENT_ENVIRONMENT</a></code></li>
<li><code><a title="ploigos_step_runner.step_implementer.DefaultSteps.DEPLOY" href="#ploigos_step_runner.step_implementer.DefaultSteps.DEPLOY">DEPLOY</a></code></li>
<li><code><a title="ploigos_step_runner.step_implementer.DefaultSteps.GENERATE_METADATA" href="#ploigos_step_runner.step_implementer.DefaultSteps.GENERATE_METADATA">GENERATE_METADATA</a></code></li>
<li><code><a title="ploigos_step_runner.step_implementer.DefaultSteps.PACKAGE" href="#ploigos_step_runner.step_implementer.DefaultSteps.PACKAGE">PACKAGE</a></code></li>
<li><code><a title="ploigos_step_runner.step_implementer.DefaultSteps.PUBLISH_WORKFLOW_RESULTS" href="#ploigos_step_runner.step_implementer.DefaultSteps.PUBLISH_WORKFLOW_RESULTS">PUBLISH_WORKFLOW_RESULTS</a></code></li>
<li><code><a title="ploigos_step_runner.step_implementer.DefaultSteps.PUSH_ARTIFACTS" href="#ploigos_step_runner.step_implementer.DefaultSteps.PUSH_ARTIFACTS">PUSH_ARTIFACTS</a></code></li>
<li><code><a title="ploigos_step_runner.step_implementer.DefaultSteps.PUSH_CONTAINER_IMAGE" href="#ploigos_step_runner.step_implementer.DefaultSteps.PUSH_CONTAINER_IMAGE">PUSH_CONTAINER_IMAGE</a></code></li>
<li><code><a title="ploigos_step_runner.step_implementer.DefaultSteps.RUNTIME_VULNERABILITY_SCAN" href="#ploigos_step_runner.step_implementer.DefaultSteps.RUNTIME_VULNERABILITY_SCAN">RUNTIME_VULNERABILITY_SCAN</a></code></li>
<li><code><a title="ploigos_step_runner.step_implementer.DefaultSteps.SIGN_CONTAINER_IMAGE" href="#ploigos_step_runner.step_implementer.DefaultSteps.SIGN_CONTAINER_IMAGE">SIGN_CONTAINER_IMAGE</a></code></li>
<li><code><a title="ploigos_step_runner.step_implementer.DefaultSteps.STATIC_CODE_ANALYSIS" href="#ploigos_step_runner.step_implementer.DefaultSteps.STATIC_CODE_ANALYSIS">STATIC_CODE_ANALYSIS</a></code></li>
<li><code><a title="ploigos_step_runner.step_implementer.DefaultSteps.TAG_SOURCE" href="#ploigos_step_runner.step_implementer.DefaultSteps.TAG_SOURCE">TAG_SOURCE</a></code></li>
<li><code><a title="ploigos_step_runner.step_implementer.DefaultSteps.UAT" href="#ploigos_step_runner.step_implementer.DefaultSteps.UAT">UAT</a></code></li>
<li><code><a title="ploigos_step_runner.step_implementer.DefaultSteps.UNDEPLOY" href="#ploigos_step_runner.step_implementer.DefaultSteps.UNDEPLOY">UNDEPLOY</a></code></li>
<li><code><a title="ploigos_step_runner.step_implementer.DefaultSteps.UNIT_TEST" href="#ploigos_step_runner.step_implementer.DefaultSteps.UNIT_TEST">UNIT_TEST</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="ploigos_step_runner.step_implementer.StepImplementer" href="#ploigos_step_runner.step_implementer.StepImplementer">StepImplementer</a></code></h4>
<ul class="">
<li><code><a title="ploigos_step_runner.step_implementer.StepImplementer.config" href="#ploigos_step_runner.step_implementer.StepImplementer.config">config</a></code></li>
<li><code><a title="ploigos_step_runner.step_implementer.StepImplementer.create_working_dir_sub_dir" href="#ploigos_step_runner.step_implementer.StepImplementer.create_working_dir_sub_dir">create_working_dir_sub_dir</a></code></li>
<li><code><a title="ploigos_step_runner.step_implementer.StepImplementer.environment" href="#ploigos_step_runner.step_implementer.StepImplementer.environment">environment</a></code></li>
<li><code><a title="ploigos_step_runner.step_implementer.StepImplementer.get_config_value" href="#ploigos_step_runner.step_implementer.StepImplementer.get_config_value">get_config_value</a></code></li>
<li><code><a title="ploigos_step_runner.step_implementer.StepImplementer.get_copy_of_runtime_step_config" href="#ploigos_step_runner.step_implementer.StepImplementer.get_copy_of_runtime_step_config">get_copy_of_runtime_step_config</a></code></li>
<li><code><a title="ploigos_step_runner.step_implementer.StepImplementer.get_result_value" href="#ploigos_step_runner.step_implementer.StepImplementer.get_result_value">get_result_value</a></code></li>
<li><code><a title="ploigos_step_runner.step_implementer.StepImplementer.get_value" href="#ploigos_step_runner.step_implementer.StepImplementer.get_value">get_value</a></code></li>
<li><code><a title="ploigos_step_runner.step_implementer.StepImplementer.global_config_defaults" href="#ploigos_step_runner.step_implementer.StepImplementer.global_config_defaults">global_config_defaults</a></code></li>
<li><code><a title="ploigos_step_runner.step_implementer.StepImplementer.global_environment_config_defaults" href="#ploigos_step_runner.step_implementer.StepImplementer.global_environment_config_defaults">global_environment_config_defaults</a></code></li>
<li><code><a title="ploigos_step_runner.step_implementer.StepImplementer.has_config_value" href="#ploigos_step_runner.step_implementer.StepImplementer.has_config_value">has_config_value</a></code></li>
<li><code><a title="ploigos_step_runner.step_implementer.StepImplementer.run_step" href="#ploigos_step_runner.step_implementer.StepImplementer.run_step">run_step</a></code></li>
<li><code><a title="ploigos_step_runner.step_implementer.StepImplementer.step_config" href="#ploigos_step_runner.step_implementer.StepImplementer.step_config">step_config</a></code></li>
<li><code><a title="ploigos_step_runner.step_implementer.StepImplementer.step_config_overrides" href="#ploigos_step_runner.step_implementer.StepImplementer.step_config_overrides">step_config_overrides</a></code></li>
<li><code><a title="ploigos_step_runner.step_implementer.StepImplementer.step_environment_config" href="#ploigos_step_runner.step_implementer.StepImplementer.step_environment_config">step_environment_config</a></code></li>
<li><code><a title="ploigos_step_runner.step_implementer.StepImplementer.step_implementer_config_defaults" href="#ploigos_step_runner.step_implementer.StepImplementer.step_implementer_config_defaults">step_implementer_config_defaults</a></code></li>
<li><code><a title="ploigos_step_runner.step_implementer.StepImplementer.step_name" href="#ploigos_step_runner.step_implementer.StepImplementer.step_name">step_name</a></code></li>
<li><code><a title="ploigos_step_runner.step_implementer.StepImplementer.sub_step_implementer_name" href="#ploigos_step_runner.step_implementer.StepImplementer.sub_step_implementer_name">sub_step_implementer_name</a></code></li>
<li><code><a title="ploigos_step_runner.step_implementer.StepImplementer.sub_step_name" href="#ploigos_step_runner.step_implementer.StepImplementer.sub_step_name">sub_step_name</a></code></li>
<li><code><a title="ploigos_step_runner.step_implementer.StepImplementer.work_dir_path" href="#ploigos_step_runner.step_implementer.StepImplementer.work_dir_path">work_dir_path</a></code></li>
<li><code><a title="ploigos_step_runner.step_implementer.StepImplementer.workflow_result" href="#ploigos_step_runner.step_implementer.StepImplementer.workflow_result">workflow_result</a></code></li>
<li><code><a title="ploigos_step_runner.step_implementer.StepImplementer.write_working_file" href="#ploigos_step_runner.step_implementer.StepImplementer.write_working_file">write_working_file</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.11.1</a>.</p>
</footer>
</body>
</html>
