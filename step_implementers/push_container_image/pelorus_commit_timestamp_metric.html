<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.10.0" />
<title>ploigos_step_runner.step_implementers.push_container_image.pelorus_commit_timestamp_metric API documentation</title>
<meta name="description" content="`StepImplementer` to extend the `push-container-image` step to push the
Pelorus Commit Timestamp metric to a Prometheus Pushgateway inlieuof the â€¦" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>ploigos_step_runner.step_implementers.push_container_image.pelorus_commit_timestamp_metric</code></h1>
</header>
<section id="section-intro">
<p><code>StepImplementer</code> to extend the <code>push-container-image</code> step to push the
Pelorus Commit Timestamp metric to a Prometheus Pushgateway inlieuof the default
Pelorus Commit Timestamp exporter which depends on OpenShift BuildConfigs.</p>
<h2 id="step-configuration">Step Configuration</h2>
<p>Step configuration expected as input to this step.
Could come from:</p>
<ul>
<li>static configuration</li>
<li>runtime configuration</li>
<li>previous step results</li>
</ul>
<table>
<thead>
<tr>
<th>Configuration Key</th>
<th>Required?</th>
<th>Default</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>commit-hash</code></td>
<td>Yes</td>
<td></td>
<td>Current commit hash.</td>
</tr>
<tr>
<td><code>commit-utc-timestamp</code></td>
<td>Yes</td>
<td></td>
<td>Current commit UTC POSIX timestamp.</td>
</tr>
<tr>
<td><code>container-image-push-digest</code></td>
<td>Yes</td>
<td></td>
<td>Container image digest of pushed container image.
IMPORTANT: this must be the image digest as calculated for the image
as reported by the image registry it is pushed to as it must match
the image digest used for deployment.</td>
</tr>
<tr>
<td><code>container-image-digest</code></td>
<td>Yes</td>
<td></td>
<td>Alias for <code>container-image-push-digest</code>.</td>
</tr>
<tr>
<td><code>pelorus-prometheus-pushgateway-url</code></td>
<td>Yes</td>
<td></td>
<td>URL to Prometheus Pushgateway that Pelorus is configured to read from.</td>
</tr>
<tr>
<td><code>pelorus-prometheus-job</code></td>
<td>Yes</td>
<td>ploigos</td>
<td>Prometheus Job that the pushed metric should be reported from.</td>
</tr>
<tr>
<td><code>pelorus-app-name</code></td>
<td>Yes</td>
<td></td>
<td>The name by which Pelorus knows this system component by.
This must align with the app name that the Deploy Time exporter knows
this system component by. By default the Pelorus Deploy Time exporter
uses the value of the <code>app.kubernetes.io/name</code> label on the deployed Pod
but this is configurable in Pelorus, see the Pelorus documentation
<a href="https://github.com/konveyor/pelorus/tree/master/exporters/deploytime#supported-integrations.">https://github.com/konveyor/pelorus/tree/master/exporters/deploytime#supported-integrations.</a></td>
</tr>
</tbody>
</table>
<h2 id="result-artifacts">Result Artifacts</h2>
<p>Results artifacts output by this step.</p>
<p>None.</p>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">&#34;&#34;&#34;`StepImplementer` to extend the `push-container-image` step to push the
Pelorus Commit Timestamp metric to a Prometheus Pushgateway inlieuof the default
Pelorus Commit Timestamp exporter which depends on OpenShift BuildConfigs.

Step Configuration
------------------
Step configuration expected as input to this step.
Could come from:

  * static configuration
  * runtime configuration
  * previous step results

Configuration Key                    | Required? | Default | Description
-------------------------------------|-----------|---------|-----------
`commit-hash`                        | Yes       |         | Current commit hash.
`commit-utc-timestamp`               | Yes       |         | Current commit UTC POSIX timestamp.
`container-image-push-digest`        | Yes       |         | Container image digest of pushed container image. \
                                                             IMPORTANT: this must be the image digest as calculated for the image \
                                                             as reported by the image registry it is pushed to as it must match \
                                                             the image digest used for deployment.
`container-image-digest`             | Yes       |         | Alias for `container-image-push-digest`.
`pelorus-prometheus-pushgateway-url` | Yes       |         | URL to Prometheus Pushgateway that Pelorus is configured to read from.
`pelorus-prometheus-job`             | Yes       | ploigos | Prometheus Job that the pushed metric should be reported from.
`pelorus-app-name`                   | Yes       |         | The name by which Pelorus knows this system component by. \
                                                             This must align with the app name that the Deploy Time exporter knows \
                                                             this system component by. By default the Pelorus Deploy Time exporter \
                                                             uses the value of the `app.kubernetes.io/name` label on the deployed Pod \
                                                             but this is configurable in Pelorus, see the Pelorus documentation \
                                                             https://github.com/konveyor/pelorus/tree/master/exporters/deploytime#supported-integrations.

Result Artifacts
----------------
Results artifacts output by this step.

None.

&#34;&#34;&#34;# pylint: disable=line-too-long

from prometheus_client import CollectorRegistry, Gauge, push_to_gateway

from ploigos_step_runner.results import StepResult
from ploigos_step_runner.step_implementer import StepImplementer

DEFAULT_CONFIG = {
    &#39;pelorus-prometheus-job&#39;: &#39;ploigos&#39;
}

REQUIRED_CONFIG_OR_PREVIOUS_STEP_RESULT_ARTIFACT_KEYS = [
    &#39;commit-hash&#39;,
    &#39;commit-utc-timestamp&#39;,
    [&#39;container-image-push-digest&#39;, &#39;container-image-digest&#39;],
    &#39;pelorus-prometheus-pushgateway-url&#39;,
    &#39;pelorus-prometheus-job&#39;,
    &#39;pelorus-app-name&#39;
]

class PelorusCommitTimestampMetric(StepImplementer):
    &#34;&#34;&#34;`StepImplementer` to extend the `push-container-image` step to push the
    Pelorus Commit Timestamp metric to a Prometheus Pushgateway inlieuof the default
    Pelorus Commit Timestamp exporter which depends on OpenShift BuildConfigs.
    &#34;&#34;&#34;

    @staticmethod
    def step_implementer_config_defaults():
        &#34;&#34;&#34;Getter for the StepImplementer&#39;s configuration defaults.

        Notes
        -----
        These are the lowest precedence configuration values.

        Returns
        -------
        dict
            Default values to use for step configuration values.
        &#34;&#34;&#34;
        return DEFAULT_CONFIG

    @staticmethod
    def _required_config_or_result_keys():
        &#34;&#34;&#34;Getter for step configuration or previous step result artifacts that are required before
        running this step.

        See Also
        --------
        _validate_required_config_or_previous_step_result_artifact_keys

        Returns
        -------
        array_list
            Array of configuration keys or previous step result artifacts
            that are required before running the step.
        &#34;&#34;&#34;
        return REQUIRED_CONFIG_OR_PREVIOUS_STEP_RESULT_ARTIFACT_KEYS

    def _validate_required_config_or_previous_step_result_artifact_keys(self):
        &#34;&#34;&#34;Validates that the required configuration keys or previous step result artifacts
        are set and have valid values.

        Validates that:
        * required configuration is given
        * given &#39;pelorus-app-name&#39; is equal to or less then 63 characters

        Raises
        ------
        AssertionError
            If step configuration or previous step result artifacts have invalid required values
        &#34;&#34;&#34;
        super()._validate_required_config_or_previous_step_result_artifact_keys()

        assert len(self.pelorus_app_name) &lt;= 63, \
            f&#34;Given Pelorus Application Name ({self.pelorus_app_name}) is invalid because it is&#34; \
            &#34; longer than 63 characters which because it is expected to be a&#34; \
            &#34; kubernetes label value breaks the kubernetes label value length rules.&#34; \
            &#34; https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/#syntax-and-character-set&#34;

    @property
    def commit_hash(self):
        &#34;&#34;&#34;
        Returns
        -------
        str
            Current commit hash.
        &#34;&#34;&#34;
        return self.get_value(&#39;commit-hash&#39;)

    @property
    def commit_utc_timestamp(self):
        &#34;&#34;&#34;
        Returns
        -------
        str
            Current commit UTC POSIX timestamp.
        &#34;&#34;&#34;
        return self.get_value(&#39;commit-utc-timestamp&#39;)

    @property
    def container_image_digest(self):
        &#34;&#34;&#34;
        Returns
        -------
        str
            Container image digest of pushed container image.
        &#34;&#34;&#34;
        return self.get_value([&#39;container-image-push-digest&#39;, &#39;container-image-digest&#39;])

    @property
    def pelorus_prometheus_pushgateway_url(self):
        &#34;&#34;&#34;
        Returns
        -------
        str
            URL to Prometheus Pushgateway that Pelorus is configured to read from.
        &#34;&#34;&#34;
        return self.get_value(&#39;pelorus-prometheus-pushgateway-url&#39;)

    @property
    def pelorus_prometheus_job(self):
        &#34;&#34;&#34;
        Returns
        -------
        str
            Prometheus Job that the pushed metric should be reported from.
        &#34;&#34;&#34;
        return self.get_value(&#39;pelorus-prometheus-job&#39;)

    @property
    def pelorus_app_name(self):
        &#34;&#34;&#34;
        Returns
        -------
        str
            The name by which Pelorus knows this system component by.
        &#34;&#34;&#34;
        return self.get_value(&#39;pelorus-app-name&#39;)

    def _run_step(self):
        &#34;&#34;&#34;Runs the step implemented by this StepImplementer.

        Returns
        -------
        StepResult
            Object containing the dictionary results of this step.
        &#34;&#34;&#34;
        step_result = StepResult.from_step_implementer(self)

        # create the gauge
        registry = CollectorRegistry()
        gauge = Gauge(
            name=&#39;commit_timestamp&#39;,
            documentation=&#39;Pelorus Software Delivery Performance (SDP) Commit timestamp.&#39; \
                &#39;https://github.com/konveyor/pelorus/blob/master/exporters/committime/README.md#commit-time-exporter&#39;,
            registry=registry,
            labelnames=[&#39;app&#39;, &#39;commit&#39;, &#39;image_sha&#39;]
        )

        # set the value and its labels
        gauge.labels(
            app=self.pelorus_app_name,
            commit=self.commit_hash,
            image_sha=self.container_image_digest
        ).set(self.commit_utc_timestamp)

        # push to prometheus pushgateway
        try:
            push_to_gateway(
                gateway=self.pelorus_prometheus_pushgateway_url,
                job=self.pelorus_prometheus_job,
                grouping_key={
                    &#39;job&#39;: self.pelorus_prometheus_job,
                    &#39;app&#39;: self.pelorus_app_name,
                    &#39;commit&#39;: self.commit_hash
                },
                registry=registry
            )
        except Exception as error: # pylint: disable=broad-except
            step_result.success = False
            step_result.message = &#34;Error pushing Pelorus Commit Timestamp metric to&#34; \
                f&#34; Prometheus Pushgateway ({self.pelorus_prometheus_pushgateway_url}): {error}&#34;

        return step_result</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="ploigos_step_runner.step_implementers.push_container_image.pelorus_commit_timestamp_metric.PelorusCommitTimestampMetric"><code class="flex name class">
<span>class <span class="ident">PelorusCommitTimestampMetric</span></span>
<span>(</span><span>workflow_result, parent_work_dir_path, config, environment=None)</span>
</code></dt>
<dd>
<div class="desc"><p><code>StepImplementer</code> to extend the <code>push-container-image</code> step to push the
Pelorus Commit Timestamp metric to a Prometheus Pushgateway inlieuof the default
Pelorus Commit Timestamp exporter which depends on OpenShift BuildConfigs.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class PelorusCommitTimestampMetric(StepImplementer):
    &#34;&#34;&#34;`StepImplementer` to extend the `push-container-image` step to push the
    Pelorus Commit Timestamp metric to a Prometheus Pushgateway inlieuof the default
    Pelorus Commit Timestamp exporter which depends on OpenShift BuildConfigs.
    &#34;&#34;&#34;

    @staticmethod
    def step_implementer_config_defaults():
        &#34;&#34;&#34;Getter for the StepImplementer&#39;s configuration defaults.

        Notes
        -----
        These are the lowest precedence configuration values.

        Returns
        -------
        dict
            Default values to use for step configuration values.
        &#34;&#34;&#34;
        return DEFAULT_CONFIG

    @staticmethod
    def _required_config_or_result_keys():
        &#34;&#34;&#34;Getter for step configuration or previous step result artifacts that are required before
        running this step.

        See Also
        --------
        _validate_required_config_or_previous_step_result_artifact_keys

        Returns
        -------
        array_list
            Array of configuration keys or previous step result artifacts
            that are required before running the step.
        &#34;&#34;&#34;
        return REQUIRED_CONFIG_OR_PREVIOUS_STEP_RESULT_ARTIFACT_KEYS

    def _validate_required_config_or_previous_step_result_artifact_keys(self):
        &#34;&#34;&#34;Validates that the required configuration keys or previous step result artifacts
        are set and have valid values.

        Validates that:
        * required configuration is given
        * given &#39;pelorus-app-name&#39; is equal to or less then 63 characters

        Raises
        ------
        AssertionError
            If step configuration or previous step result artifacts have invalid required values
        &#34;&#34;&#34;
        super()._validate_required_config_or_previous_step_result_artifact_keys()

        assert len(self.pelorus_app_name) &lt;= 63, \
            f&#34;Given Pelorus Application Name ({self.pelorus_app_name}) is invalid because it is&#34; \
            &#34; longer than 63 characters which because it is expected to be a&#34; \
            &#34; kubernetes label value breaks the kubernetes label value length rules.&#34; \
            &#34; https://kubernetes.io/docs/concepts/overview/working-with-objects/labels/#syntax-and-character-set&#34;

    @property
    def commit_hash(self):
        &#34;&#34;&#34;
        Returns
        -------
        str
            Current commit hash.
        &#34;&#34;&#34;
        return self.get_value(&#39;commit-hash&#39;)

    @property
    def commit_utc_timestamp(self):
        &#34;&#34;&#34;
        Returns
        -------
        str
            Current commit UTC POSIX timestamp.
        &#34;&#34;&#34;
        return self.get_value(&#39;commit-utc-timestamp&#39;)

    @property
    def container_image_digest(self):
        &#34;&#34;&#34;
        Returns
        -------
        str
            Container image digest of pushed container image.
        &#34;&#34;&#34;
        return self.get_value([&#39;container-image-push-digest&#39;, &#39;container-image-digest&#39;])

    @property
    def pelorus_prometheus_pushgateway_url(self):
        &#34;&#34;&#34;
        Returns
        -------
        str
            URL to Prometheus Pushgateway that Pelorus is configured to read from.
        &#34;&#34;&#34;
        return self.get_value(&#39;pelorus-prometheus-pushgateway-url&#39;)

    @property
    def pelorus_prometheus_job(self):
        &#34;&#34;&#34;
        Returns
        -------
        str
            Prometheus Job that the pushed metric should be reported from.
        &#34;&#34;&#34;
        return self.get_value(&#39;pelorus-prometheus-job&#39;)

    @property
    def pelorus_app_name(self):
        &#34;&#34;&#34;
        Returns
        -------
        str
            The name by which Pelorus knows this system component by.
        &#34;&#34;&#34;
        return self.get_value(&#39;pelorus-app-name&#39;)

    def _run_step(self):
        &#34;&#34;&#34;Runs the step implemented by this StepImplementer.

        Returns
        -------
        StepResult
            Object containing the dictionary results of this step.
        &#34;&#34;&#34;
        step_result = StepResult.from_step_implementer(self)

        # create the gauge
        registry = CollectorRegistry()
        gauge = Gauge(
            name=&#39;commit_timestamp&#39;,
            documentation=&#39;Pelorus Software Delivery Performance (SDP) Commit timestamp.&#39; \
                &#39;https://github.com/konveyor/pelorus/blob/master/exporters/committime/README.md#commit-time-exporter&#39;,
            registry=registry,
            labelnames=[&#39;app&#39;, &#39;commit&#39;, &#39;image_sha&#39;]
        )

        # set the value and its labels
        gauge.labels(
            app=self.pelorus_app_name,
            commit=self.commit_hash,
            image_sha=self.container_image_digest
        ).set(self.commit_utc_timestamp)

        # push to prometheus pushgateway
        try:
            push_to_gateway(
                gateway=self.pelorus_prometheus_pushgateway_url,
                job=self.pelorus_prometheus_job,
                grouping_key={
                    &#39;job&#39;: self.pelorus_prometheus_job,
                    &#39;app&#39;: self.pelorus_app_name,
                    &#39;commit&#39;: self.commit_hash
                },
                registry=registry
            )
        except Exception as error: # pylint: disable=broad-except
            step_result.success = False
            step_result.message = &#34;Error pushing Pelorus Commit Timestamp metric to&#34; \
                f&#34; Prometheus Pushgateway ({self.pelorus_prometheus_pushgateway_url}): {error}&#34;

        return step_result</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="ploigos_step_runner.step_implementer.StepImplementer" href="../../step_implementer.html#ploigos_step_runner.step_implementer.StepImplementer">StepImplementer</a></li>
<li>abc.ABC</li>
</ul>
<h3>Instance variables</h3>
<dl>
<dt id="ploigos_step_runner.step_implementers.push_container_image.pelorus_commit_timestamp_metric.PelorusCommitTimestampMetric.commit_hash"><code class="name">var <span class="ident">commit_hash</span></code></dt>
<dd>
<div class="desc"><h2 id="returns">Returns</h2>
<dl>
<dt><code>str</code></dt>
<dd>Current commit hash.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def commit_hash(self):
    &#34;&#34;&#34;
    Returns
    -------
    str
        Current commit hash.
    &#34;&#34;&#34;
    return self.get_value(&#39;commit-hash&#39;)</code></pre>
</details>
</dd>
<dt id="ploigos_step_runner.step_implementers.push_container_image.pelorus_commit_timestamp_metric.PelorusCommitTimestampMetric.commit_utc_timestamp"><code class="name">var <span class="ident">commit_utc_timestamp</span></code></dt>
<dd>
<div class="desc"><h2 id="returns">Returns</h2>
<dl>
<dt><code>str</code></dt>
<dd>Current commit UTC POSIX timestamp.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def commit_utc_timestamp(self):
    &#34;&#34;&#34;
    Returns
    -------
    str
        Current commit UTC POSIX timestamp.
    &#34;&#34;&#34;
    return self.get_value(&#39;commit-utc-timestamp&#39;)</code></pre>
</details>
</dd>
<dt id="ploigos_step_runner.step_implementers.push_container_image.pelorus_commit_timestamp_metric.PelorusCommitTimestampMetric.container_image_digest"><code class="name">var <span class="ident">container_image_digest</span></code></dt>
<dd>
<div class="desc"><h2 id="returns">Returns</h2>
<dl>
<dt><code>str</code></dt>
<dd>Container image digest of pushed container image.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def container_image_digest(self):
    &#34;&#34;&#34;
    Returns
    -------
    str
        Container image digest of pushed container image.
    &#34;&#34;&#34;
    return self.get_value([&#39;container-image-push-digest&#39;, &#39;container-image-digest&#39;])</code></pre>
</details>
</dd>
<dt id="ploigos_step_runner.step_implementers.push_container_image.pelorus_commit_timestamp_metric.PelorusCommitTimestampMetric.pelorus_app_name"><code class="name">var <span class="ident">pelorus_app_name</span></code></dt>
<dd>
<div class="desc"><h2 id="returns">Returns</h2>
<dl>
<dt><code>str</code></dt>
<dd>The name by which Pelorus knows this system component by.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def pelorus_app_name(self):
    &#34;&#34;&#34;
    Returns
    -------
    str
        The name by which Pelorus knows this system component by.
    &#34;&#34;&#34;
    return self.get_value(&#39;pelorus-app-name&#39;)</code></pre>
</details>
</dd>
<dt id="ploigos_step_runner.step_implementers.push_container_image.pelorus_commit_timestamp_metric.PelorusCommitTimestampMetric.pelorus_prometheus_job"><code class="name">var <span class="ident">pelorus_prometheus_job</span></code></dt>
<dd>
<div class="desc"><h2 id="returns">Returns</h2>
<dl>
<dt><code>str</code></dt>
<dd>Prometheus Job that the pushed metric should be reported from.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def pelorus_prometheus_job(self):
    &#34;&#34;&#34;
    Returns
    -------
    str
        Prometheus Job that the pushed metric should be reported from.
    &#34;&#34;&#34;
    return self.get_value(&#39;pelorus-prometheus-job&#39;)</code></pre>
</details>
</dd>
<dt id="ploigos_step_runner.step_implementers.push_container_image.pelorus_commit_timestamp_metric.PelorusCommitTimestampMetric.pelorus_prometheus_pushgateway_url"><code class="name">var <span class="ident">pelorus_prometheus_pushgateway_url</span></code></dt>
<dd>
<div class="desc"><h2 id="returns">Returns</h2>
<dl>
<dt><code>str</code></dt>
<dd>URL to Prometheus Pushgateway that Pelorus is configured to read from.</dd>
</dl></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def pelorus_prometheus_pushgateway_url(self):
    &#34;&#34;&#34;
    Returns
    -------
    str
        URL to Prometheus Pushgateway that Pelorus is configured to read from.
    &#34;&#34;&#34;
    return self.get_value(&#39;pelorus-prometheus-pushgateway-url&#39;)</code></pre>
</details>
</dd>
</dl>
<h3>Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="ploigos_step_runner.step_implementer.StepImplementer" href="../../step_implementer.html#ploigos_step_runner.step_implementer.StepImplementer">StepImplementer</a></b></code>:
<ul class="hlist">
<li><code><a title="ploigos_step_runner.step_implementer.StepImplementer.config" href="../../step_implementer.html#ploigos_step_runner.step_implementer.StepImplementer.config">config</a></code></li>
<li><code><a title="ploigos_step_runner.step_implementer.StepImplementer.create_working_dir_sub_dir" href="../../step_implementer.html#ploigos_step_runner.step_implementer.StepImplementer.create_working_dir_sub_dir">create_working_dir_sub_dir</a></code></li>
<li><code><a title="ploigos_step_runner.step_implementer.StepImplementer.environment" href="../../step_implementer.html#ploigos_step_runner.step_implementer.StepImplementer.environment">environment</a></code></li>
<li><code><a title="ploigos_step_runner.step_implementer.StepImplementer.get_config_value" href="../../step_implementer.html#ploigos_step_runner.step_implementer.StepImplementer.get_config_value">get_config_value</a></code></li>
<li><code><a title="ploigos_step_runner.step_implementer.StepImplementer.get_copy_of_runtime_step_config" href="../../step_implementer.html#ploigos_step_runner.step_implementer.StepImplementer.get_copy_of_runtime_step_config">get_copy_of_runtime_step_config</a></code></li>
<li><code><a title="ploigos_step_runner.step_implementer.StepImplementer.get_result_value" href="../../step_implementer.html#ploigos_step_runner.step_implementer.StepImplementer.get_result_value">get_result_value</a></code></li>
<li><code><a title="ploigos_step_runner.step_implementer.StepImplementer.get_value" href="../../step_implementer.html#ploigos_step_runner.step_implementer.StepImplementer.get_value">get_value</a></code></li>
<li><code><a title="ploigos_step_runner.step_implementer.StepImplementer.global_config_defaults" href="../../step_implementer.html#ploigos_step_runner.step_implementer.StepImplementer.global_config_defaults">global_config_defaults</a></code></li>
<li><code><a title="ploigos_step_runner.step_implementer.StepImplementer.global_environment_config_defaults" href="../../step_implementer.html#ploigos_step_runner.step_implementer.StepImplementer.global_environment_config_defaults">global_environment_config_defaults</a></code></li>
<li><code><a title="ploigos_step_runner.step_implementer.StepImplementer.has_config_value" href="../../step_implementer.html#ploigos_step_runner.step_implementer.StepImplementer.has_config_value">has_config_value</a></code></li>
<li><code><a title="ploigos_step_runner.step_implementer.StepImplementer.run_step" href="../../step_implementer.html#ploigos_step_runner.step_implementer.StepImplementer.run_step">run_step</a></code></li>
<li><code><a title="ploigos_step_runner.step_implementer.StepImplementer.step_config" href="../../step_implementer.html#ploigos_step_runner.step_implementer.StepImplementer.step_config">step_config</a></code></li>
<li><code><a title="ploigos_step_runner.step_implementer.StepImplementer.step_config_overrides" href="../../step_implementer.html#ploigos_step_runner.step_implementer.StepImplementer.step_config_overrides">step_config_overrides</a></code></li>
<li><code><a title="ploigos_step_runner.step_implementer.StepImplementer.step_environment_config" href="../../step_implementer.html#ploigos_step_runner.step_implementer.StepImplementer.step_environment_config">step_environment_config</a></code></li>
<li><code><a title="ploigos_step_runner.step_implementer.StepImplementer.step_implementer_config_defaults" href="../../step_implementer.html#ploigos_step_runner.step_implementer.StepImplementer.step_implementer_config_defaults">step_implementer_config_defaults</a></code></li>
<li><code><a title="ploigos_step_runner.step_implementer.StepImplementer.step_name" href="../../step_implementer.html#ploigos_step_runner.step_implementer.StepImplementer.step_name">step_name</a></code></li>
<li><code><a title="ploigos_step_runner.step_implementer.StepImplementer.sub_step_implementer_name" href="../../step_implementer.html#ploigos_step_runner.step_implementer.StepImplementer.sub_step_implementer_name">sub_step_implementer_name</a></code></li>
<li><code><a title="ploigos_step_runner.step_implementer.StepImplementer.sub_step_name" href="../../step_implementer.html#ploigos_step_runner.step_implementer.StepImplementer.sub_step_name">sub_step_name</a></code></li>
<li><code><a title="ploigos_step_runner.step_implementer.StepImplementer.work_dir_path" href="../../step_implementer.html#ploigos_step_runner.step_implementer.StepImplementer.work_dir_path">work_dir_path</a></code></li>
<li><code><a title="ploigos_step_runner.step_implementer.StepImplementer.workflow_result" href="../../step_implementer.html#ploigos_step_runner.step_implementer.StepImplementer.workflow_result">workflow_result</a></code></li>
<li><code><a title="ploigos_step_runner.step_implementer.StepImplementer.write_working_file" href="../../step_implementer.html#ploigos_step_runner.step_implementer.StepImplementer.write_working_file">write_working_file</a></code></li>
</ul>
</li>
</ul>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul>
<li><a href="#step-configuration">Step Configuration</a></li>
<li><a href="#result-artifacts">Result Artifacts</a></li>
</ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="ploigos_step_runner.step_implementers.push_container_image" href="index.html">ploigos_step_runner.step_implementers.push_container_image</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="ploigos_step_runner.step_implementers.push_container_image.pelorus_commit_timestamp_metric.PelorusCommitTimestampMetric" href="#ploigos_step_runner.step_implementers.push_container_image.pelorus_commit_timestamp_metric.PelorusCommitTimestampMetric">PelorusCommitTimestampMetric</a></code></h4>
<ul class="">
<li><code><a title="ploigos_step_runner.step_implementers.push_container_image.pelorus_commit_timestamp_metric.PelorusCommitTimestampMetric.commit_hash" href="#ploigos_step_runner.step_implementers.push_container_image.pelorus_commit_timestamp_metric.PelorusCommitTimestampMetric.commit_hash">commit_hash</a></code></li>
<li><code><a title="ploigos_step_runner.step_implementers.push_container_image.pelorus_commit_timestamp_metric.PelorusCommitTimestampMetric.commit_utc_timestamp" href="#ploigos_step_runner.step_implementers.push_container_image.pelorus_commit_timestamp_metric.PelorusCommitTimestampMetric.commit_utc_timestamp">commit_utc_timestamp</a></code></li>
<li><code><a title="ploigos_step_runner.step_implementers.push_container_image.pelorus_commit_timestamp_metric.PelorusCommitTimestampMetric.container_image_digest" href="#ploigos_step_runner.step_implementers.push_container_image.pelorus_commit_timestamp_metric.PelorusCommitTimestampMetric.container_image_digest">container_image_digest</a></code></li>
<li><code><a title="ploigos_step_runner.step_implementers.push_container_image.pelorus_commit_timestamp_metric.PelorusCommitTimestampMetric.pelorus_app_name" href="#ploigos_step_runner.step_implementers.push_container_image.pelorus_commit_timestamp_metric.PelorusCommitTimestampMetric.pelorus_app_name">pelorus_app_name</a></code></li>
<li><code><a title="ploigos_step_runner.step_implementers.push_container_image.pelorus_commit_timestamp_metric.PelorusCommitTimestampMetric.pelorus_prometheus_job" href="#ploigos_step_runner.step_implementers.push_container_image.pelorus_commit_timestamp_metric.PelorusCommitTimestampMetric.pelorus_prometheus_job">pelorus_prometheus_job</a></code></li>
<li><code><a title="ploigos_step_runner.step_implementers.push_container_image.pelorus_commit_timestamp_metric.PelorusCommitTimestampMetric.pelorus_prometheus_pushgateway_url" href="#ploigos_step_runner.step_implementers.push_container_image.pelorus_commit_timestamp_metric.PelorusCommitTimestampMetric.pelorus_prometheus_pushgateway_url">pelorus_prometheus_pushgateway_url</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc" title="pdoc: Python API documentation generator"><cite>pdoc</cite> 0.10.0</a>.</p>
</footer>
</body>
</html>